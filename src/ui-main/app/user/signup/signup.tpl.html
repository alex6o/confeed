<div id="signup-form" data-ng-if="signupState === 0">

  <form name="signupForm">
    <h2 class="form-signup-heading">Signup <a data-ui-sref="login"><i class="fa fa-angle-double-right"></i> Login</a></h2>
    <div class="form-group has-feedback" data-ng-class="{'has-error':(signupForm.$submitted || signupForm.username.$touched) && signupForm.username.$invalid}">
      <input data-cf-async-field-validation data-main-model="user" data-context="user" data-ng-model-options="{debounce: {'default': 150, 'blur': 0}}" data-ng-model="user.username" data-error-messages="errorMessages" type="text" name="username" id="input-username"
      class="form-control input-lg" placeholder="Choose a fancy name" required="" autofocus="">
      <span class="fa fa-exclamation form-control-feedback" data-ng-if="(signupForm.$submitted || signupForm.username.$touched ) && signupForm.username.$invalid"></span>
      <span class="help-block" data-ng-if="signupForm.$submitted || signupForm.username.$touched">
        <span data-ng-show="signupForm.username.$error.required">
          A username is required.
        </span>
        <span data-ng-show="signupForm.username.$error.username" data-ng-bind="errorMessages.username">
        </span>
      </span>
    </div>
    <div class="form-group has-feedback" data-ng-class="{'has-error':(signupForm.$submitted || signupForm.password.$touched) && signupForm.password.$invalid}">
      <input data-cf-async-field-validation data-main-model="user" data-context="user" data-ng-model-options="{debounce: {'default': 150, 'blur': 0}}" data-ng-model="user.password" data-error-messages="errorMessages" type="password" name="password" id="input-password"
      class="form-control input-lg" placeholder="Password" required="">
      <span class="fa fa-exclamation form-control-feedback" data-ng-if="(signupForm.$submitted || signupForm.password.$touched ) && signupForm.password.$invalid"></span>
      <span class="help-block" data-ng-if="signupForm.$submitted || signupForm.password.$touched">
        <span data-ng-show="signupForm.password.$error.required">
          Password is required.
        </span>
        <span data-ng-show="signupForm.password.$error.password" data-ng-bind="errorMessages.password">
        </span>
      </span>
    </div>
    <div class="form-group has-feedback" data-ng-class="{'has-error':(signupForm.$submitted || signupForm.passwordConfirmation.$touched) && signupForm.passwordConfirmation.$invalid}">
      <input data-cf-equal-to="user.password" data-ng-model="passwordConfirmation" type="password" name="passwordConfirmation" id="input-password-confirmation"
      class="form-control input-lg" placeholder="Confirm Password" required="">
      <span class="fa fa-exclamation form-control-feedback" data-ng-if="(signupForm.$submitted || signupForm.passwordConfirmation.$touched ) && signupForm.passwordConfirmation.$invalid"></span>
      <span class="help-block" data-ng-if="signupForm.$submitted || signupForm.passwordConfirmation.$touched">
        <span data-ng-show="signupForm.passwordConfirmation.$error.required">
          Password is required.
        </span>
        <span data-ng-show="signupForm.passwordConfirmation.$error.equalTo">
          Passwords do not match.
        </span>
      </span>
    </div>

    <button data-ng-click="vm.onClickSubmit(signupForm, user)" class="btn btn-lg btn-success btn-block" type="submit">Signup</button>
    <p data-ng-if="signupForm.$submitted && signupForm.$invalid" class="error">
      Please check the form!
    </p>
  </form>
</div>
